(globalThis.webpackChunk_wigwam_app=globalThis.webpackChunk_wigwam_app||[]).push([[385],{54203:(t,e,r)=>{"use strict";r.d(e,{J0:()=>v,H4:()=>g});var n=r(87792),o=r.n(n),s=r(32876),a=r(25532),i=r(3679),c=r(28716),d=r(62714),u=r(41143),l=r.n(u);d.Z.interceptors.request.use((t=>{if(!(0,s.dU)("ENABLE_NETWORK_LOGS"))return t;const{baseURL:e,url:r,method:n="",data:o}=t;(0,c.cM)("network",`${n} ${e||""}${r}`,{data:o});const a=t;return a.metadata={startTime:Date.now()},a})),d.Z.interceptors.response.use((t=>{if(!(0,s.dU)("ENABLE_NETWORK_LOGS"))return t;const{baseURL:e,url:r,method:n="",metadata:o}=t.config,{startTime:a=0}=o||{};return(0,c.cM)("network-success",`${t.status} ${n} ${e||""}${r} (${(Date.now()-a).toFixed(0)}ms)`,{data:t.data}),t}),(t=>{var e;const r=null===(e=null===t||void 0===t?void 0:t.response)||void 0===e?void 0:e.config;if(!r)throw t;const{baseURL:n,url:o,method:i="",metadata:d}=r,{startTime:u=0}=d||{},l=`${(Date.now()-u).toFixed(0)}ms`;let w;if(t.response){const{data:e,status:r}=t.response;let a;try{e&&"string"===typeof e?a=p(e):e&&"object"===typeof e&&(a=f(e))}catch(t){(0,c.cM)("warn","can't parse server result "+String(t))}throw w=m(a||`API HTTP ${r}`,r,o,i),(0,c.cM)("network-error",`${r} ${i} ${n||""}${o} (${l}): ${w.message}`,(0,s.dU)("DEBUG_HTTP_RESPONSE")?{data:e}:{}),w}if(t.request)throw(0,c.cM)("network-down",`DOWN ${i} ${n||""}${o} (${l})`),new a.Nz;throw t}));const m=(t,e,r,n)=>{const o={status:e,url:r,method:n};return(e||"").toString().startsWith("4")?new a.BE(t,o):new a.HF(t,o)},f=t=>t?"string"===typeof t?t:t.errors?f(t.errors[0]):t.message||t.error_message||t.error||t.msg:"",p=t=>{let e=JSON.parse(t);e&&Array.isArray(e)&&(e=e[0]);let r=f(e);if("string"===typeof r){const t=r.match(/^JsDefined\((.*)\)$/),e=t?t[1]:r;let n=JSON.parse(e).message;return"object"===typeof n&&(n=n.message),"string"===typeof n&&(r=n),r?String(r):void 0}};function w(t){t?d.Z.defaults.headers.common["X-Ledger-Client-Version"]=t:delete d.Z.defaults.headers.common["X-Ledger-Client-Version"]}w((0,s.dU)("LEDGER_CLIENT_VERSION")),s.Vu.subscribe((t=>{"LEDGER_CLIENT_VERSION"===t.name&&w(t.value)}));const h=t=>{let e;return l()("object"===typeof t,"network takes an object as parameter"),"GET"===t.method?("timeout"in t||(t.timeout=(0,s.dU)("GET_CALLS_TIMEOUT")),e=(0,i.XD)((()=>(0,d.Z)(t)),{maxRetry:(0,s.dU)("GET_CALLS_RETRY")})):e=(0,d.Z)(t),e};var E=r(60684),$=function(t,e,r,n){return new(r||(r=Promise))((function(o,s){function a(t){try{c(n.next(t))}catch(t){s(t)}}function i(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,i)}c((n=n.apply(t,e||[])).next())}))};const g=t=>Object.keys(t).sort().reduce(((e,r)=>{const n=Array.isArray(t[r])?t[r].map((t=>g(t))):t[r];return e[r]=n,e}),{}),v=(t,e)=>$(void 0,void 0,void 0,(function*(){var r,n,s,a;const i=(t=>{const{types:e}=t,r=g(e);return o()(JSON.stringify(r).replace(" ","")).toString()})(t),c=`${null!==(n=null===(r=t.domain)||void 0===r?void 0:r.chainId)&&void 0!==n?n:0}:${null!==(a=null===(s=t.domain)||void 0===s?void 0:s.verifyingContract)&&void 0!==a?a:"0x0000000000000000000000000000000000000000"}:${i}`;try{if(e){const{data:t}=yield h({method:"GET",url:`${e}/eip712.json`});return t[c]||E.Z[c]}throw new Error}catch(t){return E.Z[c]}}))},46601:()=>{},42480:()=>{}}]);