"use strict";(globalThis.webpackChunk_wigwam_app=globalThis.webpackChunk_wigwam_app||[]).push([[42],{94543:(e,s,a)=>{var n,l=a(85893),t=a(18985),r=a(85350),c=a(27211),i=a(67294),o=a(98964),d=a(48583),m=a(5042),x=a(52889),h=a(13240),u=a(84708),j=a(9755),p=a(90512),f=a(75652),g=a(53189),b=a(52862),k=a(90406),w=a(44775),N=a(94730),C=a(98870),Z=a(71423),v=a(66292),S=a(84690),y=a(64525),I=a(70794),D=a(4871),M=a(28141),F=a(53166),R=a(58363),T=a(52623),E=a(9956),O=a(45575);function U(){return U=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},U.apply(this,arguments)}var V=function(e){return i.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),n||(n=i.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M16.687 5.166a1.068 1.068 0 0 1 0 1.51L8.53 14.833a1.068 1.068 0 0 1-1.51 0l-3.707-3.707a1.068 1.068 0 1 1 1.51-1.51l2.952 2.952 7.402-7.402a1.068 1.068 0 0 1 1.51 0",clipRule:"evenodd"})))};var B=a(27367),_=a(66456),Y=a(85816),A=a(67099),L=a(80385),z=a(18503),P=a(94660),K=a(79189),$=a(59225),G=a(30691),q=a(41693);const H=e=>{const{children:s,className:a,headerClassName:n,contentClassName:t,open:r}=e;return(0,l.jsx)(v.Z,{...e,headerClassName:(0,p.Z)("!m-0",n),className:(0,p.Z)("!p-5","!items-start !justify-start","!max-w-[20.75rem]",a),children:r?(0,l.jsx)("div",{className:(0,p.Z)("w-full pt-8 flex items-start justify-start flex-col",t),children:s}):null})},Q=(0,i.memo)((0,i.forwardRef)((({asset:e,isManageMode:s=!1,className:a},n)=>{const[t,c]=(0,i.useState)(!1),{name:o,symbol:d,rawBalance:m,decimals:h,balanceUSD:u,status:j,priceUSDChange:f}=e,g=j===r.YF.Native,b=j===r.YF.Disabled,k=(0,i.useCallback)((async()=>{s?await(0,F.DK)(e):c(!0)}),[s,e]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{ref:n,type:"button",onClick:k,className:(0,p.Z)("relative","flex items-stretch","w-full py-2 px-3","text-left","rounded-[.625rem]","cursor-default","group","transition","hover:bg-brand-main/10 focus-visible:bg-brand-main/10 !cursor-pointer",b&&"opacity-60","hover:opacity-100",a),disabled:s&&g,children:[s?(0,l.jsx)(S.fC,{className:(0,p.Z)("w-5 h-5 min-w-[1.25rem] mr-5 my-auto","bg-[#373B45]","rounded","flex items-center justify-center"),checked:!b,disabled:g,asChild:!0,children:(0,l.jsx)("span",{children:(0,l.jsx)(S.z$,{className:(0,p.Z)("bg-brand-redone rounded",(b||g)&&"opacity-30"),children:!b&&(0,l.jsx)(V,{className:"[&>*]:fill-black"})})})}):null,(0,l.jsx)(P.Z,{asset:e,alt:o,className:"w-11 h-11 min-w-[2.75rem] mr-3"}),(0,l.jsxs)("span",{className:"flex flex-col w-full min-w-0",children:[(0,l.jsxs)("span",{className:"flex items-end",children:[(0,l.jsx)("span",{className:"text-sm font-bold leading-5 truncate mr-auto",children:o}),!s&&(0,l.jsx)(z.Z,{amount:u,className:"text-sm font-bold leading-5 ml-2",threeDots:!1,asSpan:!0,isDecimalsMinified:!0})]}),(0,l.jsxs)("span",{className:"mt-1 flex justify-between items-end",children:[(0,l.jsx)(K.Z,{amount:m??0,decimals:h,currency:d,className:(0,p.Z)("text-xs leading-4","text-brand-inactivedark"),asSpan:!0,threeDots:!1}),f&&!s?(0,l.jsx)(G.Z,{className:"!p-0 !text-xs !font-normal",priceChange:f,isPercent:!0,hideBackground:!0}):null]})]})]}),(0,l.jsx)(i.Suspense,{children:(0,l.jsx)(x.nw,{chainId:e.chainId,children:(0,l.jsx)(W,{open:t,onClose:()=>c(!1),asset:e})})})]})})),y.J),W=({open:e,asset:s,onClose:a})=>{const{balanceUSD:n,name:t,decimals:c,symbol:o,rawBalance:u,priceUSD:j,priceUSDChange:p,chainId:g,status:b}=s,k=(0,d.b9)(m.G_),{onRampCurrency:w}=(0,x.x9)(s.tokenSlug),N=(0,i.useCallback)((e=>{k(g),(0,h.K)(e)}),[k,g]),C=(0,i.useMemo)((()=>b!==r.YF.Disabled&&w),[b,w]);return(0,l.jsx)(H,{open:e,small:!0,onOpenChange:a,headerClassName:"!m-0",header:(0,l.jsxs)("div",{className:"flex flex-col items-start text-base font-normal",children:[(0,l.jsx)("p",{className:"font-semibold",children:t}),(0,l.jsxs)("div",{className:"mt-2 flex gap-2",children:[j?(0,l.jsxs)("span",{className:"text-base text-white font-semibold",children:["$",new I.Z(j).toFixed(2,I.Z.ROUND_DOWN)]}):null,p?(0,l.jsx)(G.Z,{priceChange:p,isPercent:!0}):null]}),(0,l.jsx)(X,{asset:s,onClose:a,className:"mt-4"})]}),children:(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsxs)("div",{className:"mb-6 flex w-full items-center",children:[(0,l.jsx)(P.Z,{asset:s,className:"w-10 h-10 mr-2 shrink-0"}),(0,l.jsxs)("div",{className:"w-full flex justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(K.Z,{amount:u??0,decimals:c,currency:o,className:"mb-1 font-semibold text-base",copiable:!0,asSpan:!0,threeDots:!1}),(0,l.jsx)("span",{className:"text-xs text-brand-inactivedark",children:"ERC20"})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end",children:[(0,l.jsx)(z.Z,{className:"mb-1 font-semibold text-base",amount:n,threeDots:!1,isDecimalsMinified:!0,copiable:!0,asSpan:!0}),p?(0,l.jsx)(G.Z,{className:"!p-0",textClassName:"!font-normal !text-xs",hideBackground:!0,priceChange:new I.Z(p).times(n).div(100)}):null]})]})]}),(0,l.jsxs)("div",{className:"mb-8 flex justify-center gap-9",children:[(0,l.jsx)(J,{text:"Send",onClick:()=>N({page:f.T3.Transfer,token:s.tokenSlug}),Icon:E.r}),(0,l.jsx)(J,{text:"Buy",onClick:()=>N({page:f.T3.Receive,token:s.tokenSlug,onRampOpened:!0}),Icon:O.r,disabled:!C}),(0,l.jsx)(J,{text:"Swap",onClick:()=>N({page:f.T3.Swap,token:s.tokenSlug}),Icon:T.r})]}),(0,l.jsxs)($.Z,{theme:"secondary",onClick:()=>N({page:f.T3.Default,token:s.tokenSlug}),children:[(0,l.jsx)(R.r,{className:"mr-3"}),"Open Full"]})]})})},J=({text:e,onClick:s,Icon:a,disabled:n=!1})=>(0,l.jsx)($.Z,{theme:"clean",className:"!p-0",disabled:n,onClick:s,children:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"mb-1 p-3 bg-[#373B45] rounded-full",children:(0,l.jsx)(a,{className:"w-5 h-5"})}),(0,l.jsx)("span",{className:"text-xs",children:e})]})}),X=({asset:e,onClose:s,className:a})=>{const n=(0,x.x0)(),t=(0,x.B9)(n),{chainId:c,tokenSlug:o,status:d}=e,{standard:h,address:u}=(0,i.useMemo)((()=>(0,F.Sz)(o)),[o]),{copy:j,copied:f}=(0,D.m)(u),g=(0,b.kq)((0,m.cQ)({chainId:c,tokenSlug:o}),"off"),k=(0,x.Lq)(e,s);return(0,l.jsx)("div",{className:(0,p.Z)("flex items-center",a),children:(0,l.jsx)(x.pl,{children:(0,l.jsxs)("div",{className:"ml-auto flex items-center",children:[g&&(0,l.jsx)(q.Z,{"aria-label":"View chart and token info",Icon:_.r,className:(0,p.Z)("!w-6 !h-6 min-w-[1.5rem]",d!==r.YF.Native?"mr-2":""),iconClassName:"!w-[1.125rem]",href:g}),t&&d!==r.YF.Native&&(0,l.jsx)(q.Z,{"aria-label":"View token in Explorer",Icon:B.r,className:"!w-6 !h-6 min-w-[1.5rem] mr-2",iconClassName:"!w-[1.125rem]",href:t.token(u)}),d!==r.YF.Native&&(0,l.jsx)(q.Z,{"aria-label":f?"Copied":`Copy ${M.Z[h]} token address`,Icon:f?Y.r:A.r,className:"!w-6 !h-6 min-w-[1.5rem] mr-2",iconClassName:"!w-[1.125rem]",onClick:()=>j()}),d!==r.YF.Native&&(0,l.jsx)(q.Z,{"aria-label":"Hide token",Icon:L.r,onClick:()=>k(),className:"!w-6 !h-6 min-w-[1.5rem]",iconClassName:"!w-[1.125rem]"})]})})})};var ee=a(74730),se=a(21510),ae=a(23128),ne=a(5879),le=a(5483),te=a(22382),re=a(46391);const ce=({token:e,onOpenChange:s,...a})=>{const n=(0,x.xx)(),r=(0,d.b9)(m.G_),{currentAccount:c}=(0,x.xe)(),o=(0,x.x0)(),u=(0,x.B9)(o);(0,x.CW)(e);const j=(0,i.useCallback)((()=>s?.(!1)),[s]),g=(0,x.Lq)(e,j),b=(0,i.useCallback)((()=>{e?.tokenSlug&&(0,t.pS)(n,c.address,e?.tokenSlug,!0)}),[n,c.address,e?.tokenSlug]),k=(0,i.useCallback)((e=>{r(n),(0,h.K)(e)}),[r,n]),w=e?(0,le.DZ)(e?.tokenId,e?.name):void 0,{copy:N,copied:C}=(0,D.m)();return(0,l.jsxs)(H,{...a,onOpenChange:s,small:!0,contentClassName:"!pt-0",closeButtonClassName:"!top-[1.9rem]",header:w&&(0,l.jsxs)("h3",{className:(0,p.Z)("line-clamp-2 break-words mt-2","text-xl text-left font-bold","w-full pr-6",w.name?"":"text-brand-main"),children:[(0,l.jsx)("span",{className:(0,p.Z)(w.name&&w.name.length>13&&!w.name.slice(0,13).includes(" ")&&"break-all"),children:w.name}),w.name&&w.id?" ":"",w.id?(0,l.jsx)("span",{className:(0,p.Z)("text-brand-main",w.id.length>11?"break-all":"break-words"),children:w.id}):""]}),children:[e&&(0,l.jsx)(x.pl,{children:(0,l.jsxs)("div",{className:"w-full flex items-center mt-2",children:[u&&(0,l.jsx)(q.Z,{"aria-label":"View NFT details",Icon:B.r,className:"!w-6 !h-6 min-w-[1.5rem] mr-2",iconClassName:"!w-[1.125rem]",href:e.detailUrl??u.nft(e.contractAddress,e.tokenId)}),(0,l.jsx)(q.Z,{"aria-label":C?"Copied":"Copy NFT contract address",Icon:C?Y.r:A.r,className:"!w-6 !h-6 min-w-[1.5rem] mr-2",iconClassName:"!w-[1.125rem]",onClick:()=>N(e.contractAddress)}),(0,l.jsx)(q.Z,{"aria-label":"Refresh NFT metadata",Icon:te.r,onClick:b,className:"!w-6 !h-6 min-w-[1.5rem] mr-2",iconClassName:"!w-[1.125rem]"}),(0,l.jsx)(q.Z,{"aria-label":"Hide token",Icon:L.r,onClick:()=>g(),className:"!w-6 !h-6 min-w-[1.5rem]",iconClassName:"!w-[1.125rem]"})]})}),(0,l.jsx)("div",{className:(0,p.Z)("w-full min-h-[10rem] max-h-[24rem] overflow-hidden","rounded-xl my-4 flex items-center justify-center"),children:e&&(0,l.jsx)(re.Z,{token:e,small:!0,rounded:!0},ie(e))}),(0,l.jsxs)("div",{className:(0,p.Z)("w-full","grid grid-cols-2 gap-3"),children:[(0,l.jsxs)($.Z,{className:"grow !py-[0.60rem] !min-w-[8rem] !rounded-lg",onClick:()=>e&&k({page:f.T3.Transfer,token:e.tokenSlug}),children:[(0,l.jsx)(E.r,{className:"w-6 h-auto mr-2 [&>path]:stroke-brand-dark"}),"Send"]}),(0,l.jsxs)($.Z,{theme:"secondary",className:"grow !py-[0.63rem] !min-w-[8rem] !rounded-lg",onClick:()=>e&&k({page:f.T3.Default,token:e.tokenSlug}),children:[(0,l.jsx)(R.r,{className:"w-4 h-auto mr-2"}),"Open Full"]})]})]})};function ie(e){return`${e.contentType}_${e.thumbnailUrl}_${e.contentUrl}`}var oe=a(1139),de=a(32266),me=a(31024),xe=a(63282),he=a(94316);const ue=()=>{const e=(0,d.Dv)(m.mw);return(0,l.jsx)(fe,{children:(0,l.jsx)(C.Z,{children:Ce(e)})})},je=()=>{const e=(0,d.Dv)(m.zv),s=(0,d.Dv)(m.cG);return e===r.PR.Unlocked?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ge,{}),(0,l.jsx)(be,{},s)]}):null},pe=()=>(0,d.Dv)(m.zv)===r.PR.Unlocked?(0,l.jsx)(i.Suspense,{fallback:null,children:(0,l.jsx)(ne.Z,{})}):null,fe=({children:e})=>{const s=(0,d.Dv)(m.LC),[a]=(0,b.Df)([(0,m.t6)(s),m.Ew]);return(0,l.jsx)(Z.Z,{chainId:a?.chainId,children:e})},ge=()=>{const e=(0,d.Dv)(m.LC),s=(0,x.Lz)(),a=(0,x.x0)(),n=(0,x.yU)(he.mg),t=(0,i.useCallback)((s=>{e&&k.mk.where({origin:e}).modify((e=>{e.chainId=s})).catch(console.error)}),[e]);return(0,l.jsx)(me.Z,{className:"max-w-auto",size:"small",onChange:t,children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(xe.Z,{network:a,className:(0,p.Z)("w-8 h-8 mr-3",s&&"animate-pulse")}),(0,l.jsx)("span",{className:"min-w-0 truncate mr-auto",children:a.name}),n?.portfolioUSD&&(0,l.jsx)(z.Z,{amount:n?.portfolioUSD,copiable:!1,className:(0,p.Z)("ml-auto mr-2 pl-2 text-base font-bold text-brand-light")})]}):(0,l.jsx)("div",{className:"h-8"})})},be=()=>{const e=(0,d.Dv)(m.cG),{searchValue:s,setSearchValue:a,searchInputRef:n,tokens:t,loadMoreTriggerRef:c,manageModeEnabled:o,setManageModeEnabled:x,tokenIdSearchValue:h,setTokenIdSearchValue:u,tokenIdSearchInputRef:j,tokenIdSearchDisplayed:p,focusSearchInput:f,currentAccount:g,isNftsSelected:b,syncing:k,searching:w,searchValueIsAddress:C}=(0,N.K)(e,{searchPersist:e===r.iv.NFT}),[Z,v]=(0,i.useState)(null),S=(0,i.useMemo)((()=>"add"!==Z||C?t:[]),[Z,C,t]),y=(0,i.useMemo)((()=>0!==S.length?b?(0,l.jsx)(we,{tokens:S,currentAccount:g,manageModeEnabled:o,loadMoreTriggerRef:c}):(0,l.jsx)(ke,{tokens:S,manageModeEnabled:o,loadMoreTriggerRef:c}):s?(0,l.jsx)(ee.Z,{searching:w,focusSearchInput:f}):b?(0,l.jsx)(se.Z,{syncing:k,className:"-mt-2"}):null),[g,f,b,c,o,s,w,k,S]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(de.Z,{size:"small",manageModeEnabled:o,setManageModeEnabled:x,searchInputRef:n,searchValue:s,setSearchValue:a,tokenIdSearchValue:h,setTokenIdSearchValue:u,tokenIdSearchInputRef:j,tokenIdSearchDisplayed:p,mode:Z,onModeChange:v,className:"my-3"}),y]})},ke=(0,i.memo)((({tokens:e,manageModeEnabled:s,loadMoreTriggerRef:a})=>{const[n,t]=(0,i.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[e.map(((n,t)=>(0,l.jsx)(Q,{ref:t===e.length-w.C3-1?a:null,asset:n,isManageMode:s,className:(0,p.Z)(t!==e.length-1&&"mb-1")},n.tokenSlug))),(0,l.jsx)(Ne,{open:n,onOpenChange:t})]})})),we=(0,i.memo)((({currentAccount:e,tokens:s,manageModeEnabled:a,loadMoreTriggerRef:n})=>{const[t,c]=(0,i.useState)(),o=(0,i.useCallback)((async s=>{if(a)try{await k.hI.put({...s,status:s.status===r.YF.Enabled?r.YF.Disabled:r.YF.Enabled},[s.chainId,e.address,s.tokenSlug].join("_"))}catch(e){}else c(s)}),[a,e.address,c]);(0,i.useEffect)((()=>{c((e=>{if(!e)return e;return s.find((s=>s.tokenSlug===e.tokenSlug))??e}))}),[s,c]);const d=(0,i.useCallback)(((e,t)=>(0,l.jsx)(ae.Z,{ref:t===s.length-w.HU-1?n:null,nft:e,onSelect:o,isManageMode:a},e.tokenSlug)),[s.length,a,o,n]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.Z,{items:s,renderItem:d,gap:"0.25rem"}),(0,l.jsx)(ce,{open:Boolean(t),token:t,onOpenChange:()=>c(void 0)})]})})),Ne=e=>(0,l.jsx)(v.Z,{...e,small:!0,children:(0,l.jsx)(oe.Z,{})}),Ce=e=>(0,o.EQ)(e).with(f.dO.Assets,(()=>(0,l.jsx)(je,{}))).with(f.dO.Activity,(()=>(0,l.jsx)(pe,{}))).otherwise((()=>(0,l.jsx)(je,{})));var Ze=a(18159),ve=a(33912);const Se=()=>(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(ye,{}),(0,l.jsx)(Ie,{})]}),ye=()=>{const e=(0,d.Dv)(m.zv);return(0,o.EQ)(e).with(r.PR.Unlocked,(()=>(0,l.jsx)(ue,{}))).with(r.PR.Locked,(()=>(0,l.jsx)(j.Z,{}))).otherwise((()=>(0,l.jsx)(De,{})))},Ie=()=>{const e=(0,x.wV)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ze.Z,{small:!0}),!e&&(0,l.jsx)(ve.Z,{})]})},De=()=>((0,i.useLayoutEffect)((()=>{(0,h.K)()}),[]),null);t._K.connect(r.Kx.Wallet),(0,c.L)((0,l.jsx)(Se,{}))}},e=>{e.O(0,[435,710,37,659,191,468],(()=>{return s=94543,e(e.s=s);var s}));e.O()}]);